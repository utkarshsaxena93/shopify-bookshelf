<% content_for :head do %>
  <%= stylesheet_link_tag "books", :media => "all" %>
<% end %>

<%- model_class = Book -%>
<div class="books__pageheadercontainer">
  <h1 class="books_heading">Books in Shopify Bookshelf:</h1>
  <%= link_to 'Add a book',
              new_book_path,
              :class => 'btn btn-success books_addabookbtn' %>
</div>
<div class="row">
  <div class="col-lg-12">
    <%= form_tag books_path,  method: :get, id: 'filter-books-form', class: 'custom-well' do |form| %>
      <h4>Filter:</h4>
      <div class="form-group">
        <%= label_tag :title, nil, :class => 'control-label col-lg-2' %>
        <%= text_field_tag :title, params[:title], :class => 'form-control query-title', placeholder: "Search by title" %>
      </div>
      <h5 class="categories-heading">Categories:</h5>
      <div class="radio">
        <label class="category-radiobtn">
          <%= radio_button_tag "category", "All", (params[:category] == "All" || params[:category] == nil) %>
           <%= "All" %>
        </label>
        <% @categories.each do |category| %>
            <label class="category-radiobtn">
              <%= radio_button_tag "category", "#{category}", (params[:category] == category) %>
               <%= category %>
            </label>
          <% end %>
      </div>
      <div class="form-group">
        <%= link_to 'View all', books_path, :class => 'btn btn-default' %>
        <%= submit_tag("Filter", :class => 'btn btn-primary') %>
      </div>
    <% end %>
  </div>
</div>

<div class="">
  <div align="center">
      <%= will_paginate %>
  </div>
  <%= render 'book', :obj => @books %>
  <div align="center">
      <%= will_paginate %>
  </div>
</div>

<%= render 'recommendationmodal' %>

<% content_for :scripts do %>
  <%= javascript_include_tag 'books' %>
<% end %>
